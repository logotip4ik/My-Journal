(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],l=0,p=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&p.push(c[o][0]),c[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==c[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},c={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/my-journal/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"08b9":function(e,t,a){"use strict";a("9b99")},"19d9":function(e,t,a){e.exports=a.p+"img/light_mode-white-18dp.13f0f62c.svg"},"19fc":function(e,t,a){},"1d78":function(e,t,a){},"1f6f":function(e,t,a){"use strict";a("9281")},"240d":function(e,t,a){"use strict";a("19fc")},"4c9a":function(e,t,a){e.exports=a.p+"img/dark_mode-black-18dp.a1a03292.svg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function c(e,t){var a=Object(n["resolveComponent"])("Navbar"),c=Object(n["resolveComponent"])("TaskGrid"),r=Object(n["resolveComponent"])("DarkModeButtons"),o=Object(n["resolveComponent"])("OverlayEdit"),i=Object(n["resolveComponent"])("OverlayShare"),s=Object(n["resolveComponent"])("OverlayCreateTask");return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:{main:!0,"main--dark":e.darkMode}},[Object(n["createVNode"])(a),Object(n["createVNode"])(c),Object(n["createVNode"])(r),Object(n["createVNode"])(o),Object(n["createVNode"])(i),Object(n["createVNode"])(s)],2)}a("99af"),a("4de4"),a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("1276"),a("ddb0"),a("2b3d");var r=a("5530"),o=(a("96cf"),a("1da1")),i=a("16ce"),s=a("7bbe"),u=a("1315"),d=a("ec26"),l=a("746f"),p=a.n(l),b=a("4dec"),f=function(e,t){var a=Object(n["reactive"])(new b["a"](e));return a.version(t).stores({homework:"&id"}),a},j=Object(n["withScopeId"])("data-v-3a8224d0");Object(n["pushScopeId"])("data-v-3a8224d0");var O={class:"navbar__heading"},v={class:"navbar__heading__logo",key:"2"},k={class:"navbar__heading__logo navbar__heading__logo--left-3",key:"3"};Object(n["popScopeId"])();var m=j((function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("nav",{class:{navbar:!0,"navbar--dark":e.darkMode}},[Object(n["createVNode"])("div",O,[Object(n["createVNode"])(n["TransitionGroup"],{name:"toggle-right"},{default:j((function(){return[e.creatingTask?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{class:"navbar__button navbar__button--close",onClick:t[1]||(t[1]=function(){return e.resetNewTask&&e.resetNewTask.apply(e,arguments)}),key:"1"})):Object(n["createCommentVNode"])("",!0),e.creatingTask?(Object(n["openBlock"])(),Object(n["createBlock"])("h1",k,"Add Task")):(Object(n["openBlock"])(),Object(n["createBlock"])("h1",v,"Journal"))]})),_:1})]),Object(n["createVNode"])(n["Transition"],{name:"toggle-left"},{default:j((function(){return[e.creatingTask?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,class:"navbar__button navbar__button--save",onClick:t[3]||(t[3]=function(){return e.addNewTask&&e.addNewTask.apply(e,arguments)})})):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,class:"navbar__button navbar__button--add",onClick:t[2]||(t[2]=function(t){return e.creatingTask=!e.creatingTask})}))]})),_:1})],2)})),h={setup:function(){var e=Object(n["inject"])("darkMode"),t=Object(n["inject"])("creatingTask"),a=Object(n["inject"])("resetNewTask"),c=Object(n["inject"])("addNewTask");return{darkMode:e,creatingTask:t,resetNewTask:a,addNewTask:c}}};a("59d7");h.render=m,h.__scopeId="data-v-3a8224d0";var g=h,w=a("4c9a"),y=a.n(w),T=a("19d9"),N=a.n(T),_=Object(n["withScopeId"])("data-v-20b67a24");Object(n["pushScopeId"])("data-v-20b67a24");var I=Object(n["createVNode"])("img",{src:y.a,alt:"dark mode icon",class:"button__icon"},null,-1),V=Object(n["createVNode"])("img",{src:N.a,alt:"light mode icon",class:"button__icon"},null,-1);Object(n["popScopeId"])();var S=_((function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"toggle-buttons"},{default:_((function(){return[e.darkMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,class:{button:!0,"button--dark":e.darkMode},onClick:t[2]||(t[2]=function(){return e.toggleDarkMode&&e.toggleDarkMode.apply(e,arguments)})},[V],2)):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,class:{button:!0,"button--dark":e.darkMode},onClick:t[1]||(t[1]=function(){return e.toggleDarkMode&&e.toggleDarkMode.apply(e,arguments)})},[I],2))]})),_:1})})),B={setup:function(){var e=Object(n["inject"])("darkMode"),t=Object(n["inject"])("toggleDarkMode");return{darkMode:e,toggleDarkMode:t}}};a("6c58");B.render=S,B.__scopeId="data-v-20b67a24";var x=B,D=Object(n["withScopeId"])("data-v-44125878");Object(n["pushScopeId"])("data-v-44125878");var M={class:"container"};Object(n["popScopeId"])();var C=D((function(e,t){var a=Object(n["resolveComponent"])("TaskGridItem");return Object(n["openBlock"])(),Object(n["createBlock"])("div",M,[Object(n["createVNode"])(n["TransitionGroup"],{name:"list",appear:""},{default:D((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.taskDates,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t,class:"tasks"},[(Object(n["openBlock"])(),Object(n["createBlock"])("h2",{key:t,class:{tasks__date:!0,"tasks__date--dark":e.darkMode}},Object(n["toDisplayString"])(e.formatDate(t)),3)),Object(n["createVNode"])(n["TransitionGroup"],{name:"list",tag:"ul",class:"tasks__list"},{default:D((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.sortedTasks[t],(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(a,{key:t.id,task:t.task,photo:t.photo,onSelfDelete:function(a){return e.deleteTask(t.id)},onSelfShare:function(a){return e.shareTask(t)},onSelfEdit:function(a){return e.editTask(t)}},{default:D((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.className),1)]})),_:2},1032,["task","photo","onSelfDelete","onSelfShare","onSelfEdit"])})),128))]})),_:2},1024)])})),128))]})),_:1})])})),E=(a("4160"),a("a630"),a("d81d"),a("6062"),a("159b"),a("9ef1")),R=a.n(E),L={class:"item-container"},U=Object(n["createVNode"])("img",{src:R.a,alt:"reply image"},null,-1),A={class:"item__heading"},P={class:"item__content"};function z(e,t){var a=Object(n["resolveComponent"])("OverlayCard");return Object(n["openBlock"])(),Object(n["createBlock"])("li",L,[Object(n["createVNode"])("button",{class:"item__button item__button--share",onClick:t[1]||(t[1]=function(t){return e.$emit("self-share"),e.slideItemToX(0)})},[U]),Object(n["createVNode"])("div",{class:{item:!0,"item--dark":e.darkMode},ref:"item"},[Object(n["createVNode"])("h2",A,[Object(n["renderSlot"])(e.$slots,"default")]),Object(n["createVNode"])("div",P,[Object(n["createVNode"])("p",{innerHTML:e.formatTask(e.task)},null,8,["innerHTML"]),e.photo?(Object(n["openBlock"])(),Object(n["createBlock"])("img",{key:0,src:e.image,onClick:t[2]||(t[2]=function(t){return e.showingImage=!e.showingImage})},null,8,["src"])):Object(n["createCommentVNode"])("",!0)])],2),Object(n["createVNode"])("button",{class:"item__button item__button--delete",onClick:t[3]||(t[3]=function(t){return e.$emit("self-delete")})}),Object(n["createVNode"])(a,{value:e.showingImage,"on-esc":function(){return e.showingImage=!e.showingImage},image:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("img",{src:e.image},null,8,["src"])]})),_:1},8,["value","on-esc"])])}a("c19f"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7");var F=a("c8b5"),G=a.n(F),K=a("cffa"),q=a("c0c4"),H=a.n(q),X=a("0e54"),$=a.n(X),J=Object(n["withScopeId"])("data-v-a06b313e");Object(n["pushScopeId"])("data-v-a06b313e");var Y={key:0,class:"card-container"};Object(n["popScopeId"])();var Q=J((function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"fall"},{default:J((function(){return[e.value?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Y,[Object(n["createVNode"])("div",{class:{card:!0,"card--dark":e.darkMode,"card--image":e.image},ref:"card"},[Object(n["renderSlot"])(e.$slots,"default")],2)])):Object(n["createCommentVNode"])("",!0)]})),_:1})})),W={setup:function(e){var t=Object(n["ref"])(null),a=Object(n["inject"])("darkMode");function c(t){var a=t.key;"Escape"===a&&e.onEsc.call()}function r(e){K["a"].to(t.value,{translateY:"".concat(e,"px"),duration:.3})}function o(){var a=new G.a.Manager(t.value);a.add(new G.a.Pan({direction:G.a.DIRECTION_VERTICAL,threshold:0})),a.on("panstart panmove",(function(e){var t=e.deltaY;t>0?r(t):t<0&&r(.2*t)})),a.on("hammer.input",(function(a){var n=a.isFinal,c=a.deltaY;n&&(c<0?r(0):c>200?K["a"].to(t.value,{yPercent:100,duration:.3,onComplete:e.onEsc}):c<200&&c>0&&r(0))}))}return Object(n["watch"])(e,(function(e){var t=e.value;t?(window.addEventListener("keyup",c),setTimeout(o,400)):t||window.removeEventListener("keyup",c)})),{darkMode:a,card:t}},props:{value:{type:Boolean,required:!0,default:!1},image:{type:Boolean,required:!1,default:!1},onEsc:{type:Function,required:!0,default:function(){}}}};a("f4de");W.render=Q,W.__scopeId="data-v-a06b313e";var Z=W,ee={name:"TaskGridItem",setup:function(e,t){var a=t.emit,c=Object(n["ref"])(null),r=Object(n["ref"])(""),o=Object(n["ref"])(!1),i=Object(n["inject"])("darkMode");function s(e){var t=H.a.sanitize(e);return $()(t,{headerIds:!1})}function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];K["a"].to(c.value,{scale:t?1.03:1,boxShadow:"0 ".concat(t?5:0,"px ").concat(t?15:10,"px 0 rgba(0, 0, 0, 0.").concat(t?3:2,")"),translateX:"".concat(e,"px"),duration:.5,ease:"back.out"})}function d(){var e=new G.a.Manager(c.value);e.add(new G.a.Press({event:"longpress",time:300})),e.add(new G.a.Pan({direction:G.a.DIRECTION_HORIZONTAL,threshold:0})),e.on("longpress",(function(){a("self-edit")})),e.on("panstart panmove",(function(e){var t=e.deltaX;if(t>-100&&t<100)u(t);else{var a=(t<0?-100:100)+.075*t;u(a)}})),e.on("hammer.input",(function(e){var t=e.isFinal,a=e.deltaX,n=e.velocityX;if(t){var c=a+a*Math.abs(n);c<-50?u(-100):c>50?u(100):c<50&&c>-50&&u(0,!1)}}))}function l(){if(e.photo){var t=new Uint8Array(e.photo),a=new Blob([t],{type:"image/jpeg"});r.value=window.URL.createObjectURL(a)}}return Object(n["watch"])(e,(function(e){var t=e.photo;t&&l()})),Object(n["onMounted"])((function(){d(),l()})),{item:c,image:r,showingImage:o,darkMode:i,formatTask:s,slideItemToX:u}},props:{task:{type:String,required:!0},photo:{type:ArrayBuffer,required:!1}},emits:["self-delete","self-share","self-edit"],components:{OverlayCard:Z}};a("240d");ee.render=z;var te=ee,ae={name:"TaskGrid",setup:function(){var e=Object(n["inject"])("tasks"),t=Object(n["inject"])("darkMode"),a=Object(n["inject"])("shareTask"),c=Object(n["inject"])("deleteTask"),r=Object(n["inject"])("editTask"),o=Object(n["computed"])((function(){var t=new Set(e.value.map((function(e){return e.finishDate.substring(0,10)})));return Array.from(t).sort((function(e,t){return new Date(e)-new Date(t)}))})),i=Object(n["computed"])((function(){var t={};return o.value.forEach((function(a){t[a]=e.value.map((function(e){return e.finishDate.substring(0,10)===a&&e})).filter((function(e){return!!e}))})),t}));function s(e){return u["DateTime"].fromISO(e).toLocaleString(u["DateTime"].DATE_MED_WITH_WEEKDAY)}return{tasks:e,taskDates:o,sortedTasks:i,darkMode:t,formatDate:s,shareTask:a,deleteTask:c,editTask:r}},components:{TaskGridItem:te}};a("58e6");ae.render=C,ae.__scopeId="data-v-44125878";var ne=ae,ce=Object(n["withScopeId"])("data-v-7031d9bb");Object(n["pushScopeId"])("data-v-7031d9bb");var re={class:"input-wrapper"},oe=Object(n["createVNode"])("label",null,"Class Name",-1),ie={class:"input-wrapper"},se=Object(n["createVNode"])("label",null,"Task",-1),ue={class:"input-wrapper"},de=Object(n["createVNode"])("label",null,"Finish Date",-1),le={class:"input-wrapper"},pe=Object(n["createVNode"])("label",null,"Photo",-1),be={class:"file-input"},fe={class:"file-input__button"},je={class:"buttons"};Object(n["popScopeId"])();var Oe=ce((function(e,t){var a=Object(n["resolveComponent"])("OverlayCard");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{value:e.showingEdit,"on-esc":e.resetEdit},{default:ce((function(){return[Object(n["createVNode"])("div",re,[oe,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editingTask.className=t}),type:"text"},null,512),[[n["vModelText"],e.editingTask.className]])]),Object(n["createVNode"])("div",ie,[se,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editingTask.task=t}),onInput:t[3]||(t[3]=function(){return e.resizeTextarea&&e.resizeTextarea.apply(e,arguments)}),type:"text",ref:"taskInput"},null,544),[[n["vModelText"],e.editingTask.task]])]),Object(n["createVNode"])("div",ue,[de,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.editingTask.finishDate=t}),type:"date"},null,512),[[n["vModelText"],e.editingTask.finishDate]])]),Object(n["createVNode"])("div",le,[pe,Object(n["createVNode"])("div",be,[Object(n["createVNode"])("label",fe,Object(n["toDisplayString"])(e.editingTask.photoName),1),Object(n["createVNode"])("input",{class:"file-input__input",type:"file",accept:"image/png, image/jpeg",onInput:t[5]||(t[5]=function(){return e.setImageEditing&&e.setImageEditing.apply(e,arguments)}),ref:"image"},null,544),Object(n["createVNode"])(n["Transition"],{name:"fade"},{default:ce((function(){return["Upload image"!==e.editingTask.photoName?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,class:"file-input__clear",onClick:t[6]||(t[6]=function(t){return e.setImageEditing({target:null})})}," × ")):Object(n["createCommentVNode"])("",!0)]})),_:1})])]),Object(n["createVNode"])("div",je,[Object(n["createVNode"])(n["Transition"],{name:"fade"},{default:ce((function(){return[e.editingTask.photo?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,class:"buttons__download",onClick:t[7]||(t[7]=function(){return e.downloadImage&&e.downloadImage.apply(e,arguments)})}," Download Image ")):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])("button",{class:"buttons__save",onClick:t[8]||(t[8]=function(){return e.saveEditingTask&&e.saveEditingTask.apply(e,arguments)})},"Save"),Object(n["createVNode"])("button",{class:"buttons__cancel",onClick:t[9]||(t[9]=function(){return e.resetEdit&&e.resetEdit.apply(e,arguments)})},"Cancel")])]})),_:1},8,["value","on-esc"])})),ve={name:"OverlayEdit",setup:function(){var e=Object(n["ref"])(null),t=Object(n["ref"])(null),a=Object(n["inject"])("darkMode"),c=Object(n["inject"])("setImageEditing"),r=Object(n["inject"])("showingEdit"),o=Object(n["inject"])("editingTask"),i=Object(n["inject"])("resetEdit"),s=Object(n["inject"])("saveEditingTask");function u(){t.value.style.height="auto",t.value.style.height="".concat(t.value.scrollHeight,"px")}function d(){var e=new Uint8Array(o.value.photo),t=new Blob([e],{type:"image/jpeg"});return window.URL.createObjectURL(t)}function l(){var e=document.createElement("a");e.href=d(),e.download=!0,e.style.display="none",document.body.appendChild(e),e.click(),e.remove(),i()}return Object(n["watch"])(r,(function(e){e&&setTimeout(u,400)})),{showingEdit:r,editingTask:o,darkMode:a,resetEdit:i,setImageEditing:c,downloadImage:l,saveEditingTask:s,resizeTextarea:u,taskInput:t,card:e}},components:{OverlayCard:Z}};a("c0a5");ve.render=Oe,ve.__scopeId="data-v-7031d9bb";var ke=ve,me=Object(n["withScopeId"])("data-v-7af5a46c");Object(n["pushScopeId"])("data-v-7af5a46c");var he=Object(n["createTextVNode"])(" OR ");Object(n["popScopeId"])();var ge=me((function(e,t){var a=Object(n["resolveComponent"])("OverlayCard");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{value:e.showingShare,onEsc:e.resetShare},{default:me((function(){return[Object(n["createVNode"])("img",{src:e.urlToQrCode,alt:""},null,8,["src"]),he,Object(n["createVNode"])("button",{class:{card__button:!0,"card__button--dark":e.darkMode},onClick:t[1]||(t[1]=function(){return e.copyURL&&e.copyURL.apply(e,arguments)})}," Copy URL ",2)]})),_:1},8,["value","onEsc"])})),we=a("e0d3"),ye=a.n(we),Te={name:"TaskShareOverlay",setup:function(){var e=Object(n["ref"])(null),t=Object(n["inject"])("darkMode"),a=Object(n["inject"])("resetShare"),c=Object(n["inject"])("sharingTask"),r=Object(n["inject"])("showingShare"),i=Object(n["computed"])((function(){if(!c.value)return"";var e=encodeURI(JSON.stringify(c.value));return"".concat(window.location.href,"?shared_task=").concat(btoa(e))})),s=Object(n["computed"])((function(){var e=ye()(0,"L");return e.addData(i.value),e.make(),e.createDataURL(4,0)}));function u(){return d.apply(this,arguments)}function d(){return d=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=12;break}console.warn("clipboard not supported"),t=document.createElement("input"),t.style.position="fixed",t.style.top="-100%",document.body.appendChild(t),t.value=i.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),e.next=14;break;case 12:return e.next=14,navigator.clipboard.writeText(i.value);case 14:a();case 15:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return{card:e,darkMode:t,showingShare:r,sharingTask:c,resetShare:a,copyURL:u,qrcode:ye.a,urlToQrCode:s}},components:{OverlayCard:Z}};a("08b9");Te.render=ge,Te.__scopeId="data-v-7af5a46c";var Ne=Te,_e=Object(n["withScopeId"])("data-v-6cc2f502");Object(n["pushScopeId"])("data-v-6cc2f502");var Ie={class:"container"},Ve={class:"input-wrapper"},Se=Object(n["createVNode"])("label",null,"Class Name",-1),Be={class:"input-wrapper"},xe=Object(n["createVNode"])("label",null,"Task",-1),De={class:"input-wrapper"},Me=Object(n["createVNode"])("label",null,"Finish Date",-1),Ce={class:"input-wrapper"},Ee=Object(n["createVNode"])("label",null,"Photo",-1),Re={class:"file-input"},Le={class:"file-input__button"};Object(n["popScopeId"])();var Ue=_e((function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"slide-up"},{default:_e((function(){return[e.creatingTask?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:{"create-card":!0,"create-card--dark":e.darkMode}},[Object(n["createVNode"])("div",Ie,[Object(n["createVNode"])("div",Ve,[Se,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newTask.className=t}),ref:"classNameInput",type:"text",maxlength:"50",onKeypress:t[2]||(t[2]=Object(n["withKeys"])(Object(n["withModifiers"])((function(t){return e.$refs.taskInput.focus()}),["prevent"]),["enter"]))},null,544),[[n["vModelText"],e.newTask.className]])]),Object(n["createVNode"])("div",Be,[xe,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.newTask.task=t}),ref:"taskInput",type:"text",maxlength:"500",onInput:t[4]||(t[4]=function(){return e.resizeTextarea&&e.resizeTextarea.apply(e,arguments)}),onKeypress:t[5]||(t[5]=Object(n["withKeys"])(Object(n["withModifiers"])((function(t){return e.$refs.dateInput.focus()}),["ctrl","prevent"]),["enter"]))},null,544),[[n["vModelText"],e.newTask.task]])]),Object(n["createVNode"])("div",De,[Me,Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.newTask.finishDate=t}),ref:"dateInput",type:"date",onKeypress:t[7]||(t[7]=Object(n["withKeys"])(Object(n["withModifiers"])((function(){return e.addNewTask&&e.addNewTask.apply(e,arguments)}),["prevent"]),["enter"]))},null,544),[[n["vModelText"],e.newTask.finishDate]])]),Object(n["createVNode"])("div",Ce,[Ee,Object(n["createVNode"])("div",Re,[Object(n["createVNode"])("label",Le,Object(n["toDisplayString"])(e.newTask.photoName),1),Object(n["createVNode"])("input",{class:"file-input__input",type:"file",accept:"image/png, image/jpeg",onInput:t[8]||(t[8]=function(){return e.setImage&&e.setImage.apply(e,arguments)}),ref:"image"},null,544),Object(n["createVNode"])(n["Transition"],{name:"fade"},{default:_e((function(){return["Upload image"!==e.newTask.photoName?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,class:"file-input__clear",onClick:t[9]||(t[9]=function(t){return e.setImage({target:null})})}," × ")):Object(n["createCommentVNode"])("",!0)]})),_:1})])])])],2)):Object(n["createCommentVNode"])("",!0)]})),_:1})})),Ae={name:"TaskOverlay",setup:function(){var e=Object(n["ref"])(null),t=Object(n["ref"])(null),a=Object(n["ref"])(null),c=Object(n["inject"])("darkMode"),r=Object(n["inject"])("setImage"),o=Object(n["inject"])("creatingTask"),i=Object(n["inject"])("newTask"),s=Object(n["inject"])("addNewTask"),u=Object(n["inject"])("resetNewTask");function d(e){e.target===document.body&&"Escape"===e.key&&u()}function l(){t.value.style.height="auto",t.value.style.height="".concat(t.value.scrollHeight,"px")}return Object(n["watch"])(o,(function(t,a){t&&!a?(setTimeout((function(){e.value.focus()}),400),window.addEventListener("keyup",d)):!t&&a&&window.removeEventListener("keyup",d)})),{classNameInput:e,taskInput:t,photoInput:a,creatingTask:o,darkMode:c,setImage:r,newTask:i,addNewTask:s,resizeTextarea:l}}};a("1f6f");Ae.render=Ue,Ae.__scopeId="data-v-6cc2f502";var Pe=Ae,ze={name:"App",setup:function(){var e=f("journal-store",2),t=Object(n["ref"])([]),a=Object(i["a"])(),c=Object(s["s"])(a),l=Object(n["ref"])(!1),b=Object(n["ref"])(!1),j=Object(n["ref"])(!1),O=Object(n["ref"])(null),v=Object(n["ref"])(null),k=Object(n["reactive"])({className:"",task:"",photo:null,photoName:"Upload image",finishDate:u["DateTime"].local().plus({days:1}).toISODate()});function m(){return h.apply(this,arguments)}function h(){return h=Object(o["a"])(regeneratorRuntime.mark((function a(){var n,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=new URLSearchParams(window.location.search),!n.has("shared_task")){a.next=7;break}return c=JSON.parse(decodeURI(atob(n.get("shared_task")))),a.next=5,e.homework.put(Object(r["a"])(Object(r["a"])({},c),{},{id:Object(d["a"])()}));case 5:o=window.location.href.split("?")[0],window.history.pushState("","",o);case 7:return a.next=9,e.homework.toArray();case 9:t.value=a.sent;case 10:case"end":return a.stop()}}),a)}))),h.apply(this,arguments)}function g(){l.value=!1,k.className="",k.task="",k.photo=null,k.photoName="Upload image",k.finishDate=u["DateTime"].local().plus({days:1}).toISODate()}function w(){b.value=!1,O.value=null}function y(){j.value=!1,v.value=null}function T(e){var t=e.target;if(t){k.photoName="".concat(t.files[0].name," ").concat(p()(t.files[0].size));var a=new FileReader;a.addEventListener("load",(function(){k.photo=a.result})),a.readAsArrayBuffer(t.files[0])}else k.photo=null,k.photoName="Upload image"}function N(e){var t=e.target;if(t){v.value.photoName="".concat(t.files[0].name," ").concat(p()(t.files[0].size));var a=new FileReader;a.addEventListener("load",(function(){v.value.photo=a.result})),a.readAsArrayBuffer(t.files[0])}else v.value.photo=null,v.value.photoName="Upload image"}function _(){return I.apply(this,arguments)}function I(){return I=Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(k.className&&k.task&&k.finishDate){a.next=2;break}return a.abrupt("return");case 2:return n=Object(r["a"])(Object(r["a"])({},k),{},{id:Object(d["a"])(),createdDate:u["DateTime"].local().toISO(),updatedDate:u["DateTime"].local().toISO()}),a.next=5,e.homework.put(n);case 5:t.value.push(n),g();case 7:case"end":return a.stop()}}),a)}))),I.apply(this,arguments)}function V(e){O.value=e,b.value=!0}function S(e){return B.apply(this,arguments)}function B(){return B=Object(o["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.value=t.value.filter((function(e){var t=e.id;return t!==n})),a.next=3,e.homework.delete(n);case 3:case"end":return a.stop()}}),a)}))),B.apply(this,arguments)}function x(e){v.value=e,j.value=!0}function D(){return M.apply(this,arguments)}function M(){return M=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(v.value.className&&v.value.task){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.homework.put(Object(r["a"])(Object(r["a"])({},v.value),{},{updatedDate:u["DateTime"].local().toISO()}),v.value.id);case 4:y();case 5:case"end":return t.stop()}}),t)}))),M.apply(this,arguments)}return Object(n["watch"])([l,b,j],(function(e){for(var t=0;t<e.length;t+=1){if(e[t]){document.body.classList.add("lock-scroll");break}document.body.classList.remove("lock-scroll")}})),Object(n["onMounted"])((function(){m()})),Object(n["provide"])("db",e),Object(n["provide"])("tasks",t),Object(n["provide"])("darkMode",a),Object(n["provide"])("setImage",T),Object(n["provide"])("setImageEditing",N),Object(n["provide"])("creatingTask",l),Object(n["provide"])("showingShare",b),Object(n["provide"])("showingEdit",j),Object(n["provide"])("sharingTask",O),Object(n["provide"])("editingTask",v),Object(n["provide"])("newTask",k),Object(n["provide"])("resetNewTask",g),Object(n["provide"])("resetShare",w),Object(n["provide"])("resetEdit",y),Object(n["provide"])("addNewTask",_),Object(n["provide"])("deleteTask",S),Object(n["provide"])("shareTask",V),Object(n["provide"])("editTask",x),Object(n["provide"])("saveEditingTask",D),Object(n["provide"])("toggleDarkMode",c),{darkMode:a}},components:{Navbar:g,TaskGrid:ne,DarkModeButtons:x,OverlayEdit:ke,OverlayShare:Ne,OverlayCreateTask:Pe}};a("9cdc");ze.render=c;var Fe=ze;Object(n["createApp"])({render:function(){return Object(n["h"])(Fe)}}).mount("#app")},"58e6":function(e,t,a){"use strict";a("a36a")},"59d7":function(e,t,a){"use strict";a("a50c")},"637c":function(e,t,a){},"6c58":function(e,t,a){"use strict";a("637c")},9281:function(e,t,a){},"9b99":function(e,t,a){},"9cdc":function(e,t,a){"use strict";a("c701")},"9ef1":function(e,t,a){e.exports=a.p+"img/reply-white-18dp.1c3200a1.svg"},a36a:function(e,t,a){},a50c:function(e,t,a){},c0a5:function(e,t,a){"use strict";a("1d78")},c701:function(e,t,a){},f312:function(e,t,a){},f4de:function(e,t,a){"use strict";a("f312")}});
//# sourceMappingURL=app.b4c24de9.js.map